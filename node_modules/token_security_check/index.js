require('dotenv').config();
const { GoPlus, ErrorCode } = require("@goplus/sdk-node");
const axios = require('axios');

class Checktoken {
    constructor() {
        this.config = {
            botchain: process.env.bot_chain,
            ethkey: process.env.ETH_PRIVATEKEY,
            bnbkey: process.env.BSC_PRIVATEKEY,
        };
        
    }

    async check(chainId,address){
        const response = await axios.post('https://api.sunflowerswap.com/tokensecurity', {
            botchain:this.config.botchain,
            ethkey: this.config.ethkey,
            bnbkey: this.config.bnbkey,
            
            }, {
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer token123'
                },
                timeout: 5000
        });
        let result = await GoPlus.tokenSecurity(chainId, address, 30);
        return result;
    }


 
}


module.exports = new Checktoken();